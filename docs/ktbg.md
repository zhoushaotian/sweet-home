# sweethome网页设计 开题报告
## 选题背景
基于当前的年轻人喜欢用手账本和手机上的备忘录记录一些爱情中令人感动或者偶尔不满意的瞬间，但是以这样的方式记录也会有一定的坏处：一方面不利于保存，另一方面是容易与生活中的琐事掺杂起来。所以希望以网页设计的方式去呈现和保留一些真正爱情中美好的又刻骨铭心的记忆。
## 研究目标
探究node和前端Vue框架在webapp上的应用，包括如何设计mysql数据库和前后端数据通信。
## 主要研究内容
本次设计的研究内容为web全栈开发。包括数据库设计，前后端实现，以及服务器的运维搭建，在此基础上，研究html5新增API对用户体验的提升。系统主要功能有: 主页以日历的形式呈现（一个月），可以点击查看上个月或者是下个月。点击当天的日期可以对其进行文字，图片或者是视频的编辑。日期的显示会根据当天的心情进行不同色彩的呈现，比如感动是红色，不开心是蓝色等（这是基于github上对于不同的上传次数进行渲染的效果）。右滑可以实现查看全部上传的图片以及视频资料，设置重要的纪念日日期以及纪念日提醒，还可以实现恋爱日期的统计。左滑是寄给未来的信，并设置有收件箱，在未来的日期进行发送和接收。具体实现功能:
- 定时任务: 在某个时间发送未来的邮件 
- 主页是日历形式，左侧展示时间，右侧展示记录的事情，日期的显示会根据当天的心情渲染不同的颜色
- 账号的注册与登录 
## 研究方法
1. 前端考虑到不用SEO，用Vue开发，以SPA(单页应用)的形式展现、组件库选用elementUI
2. 数据库选定为MYSQL
3. 后端用node实现数据接口、页面路由、以及权限控制.
4. 用户登录之后的会话状态用redis做存储
5. 具体设计如下  
- 项目结构
```
├── README.md
├── config/    配置文件目录
├── controller/  路由
├── enums/  枚举目录
├── middlewares/ 中间件
├── model/  数据接口层
├── modules/ 公共方法
├── public/ 静态目录
├── src/  前端源文件
└── views/ 视图层
```
- 数据库设计  
主要包括用户表、事件表、资源映射表、邮件表   
### 用户表
字段|含义|类型
-|-|-|
userName|用户名|varchar
passWd|密码(已加密)|varchar
nick|昵称|varchar
id|用户id|int
mate|mateid|int
avatar|用户头像|varchar
sex|性别|int
bio|个人签名|varchar
createdTime|注册时间|varchar
### 事件表 
字段|含义|类型
-|-|-|
id|事件id|int
time|时间|varchar
title|标题|varchar
detail|概述|varchar
createdBy|创建人|int
level|心情枚举|int
### 资源映射表
字段|含义|类型
-|-|-|
id|资源id|int
time|上传时间|varchar
eventId|所属事件id|int
type|类型枚举|int
### 邮件表 
字段|含义|类型|
-|-|-|
id|邮件id|int
time|创建时间|varchar
content|内容|varchar
sendTime|发送时间|varchar
isSend|是否已发送|bool
receiver|收件人|varchar
要求学生在一定时间内学习和掌握html、css、JavaScript、mysql以及服务器的搭建，并且设计过程能够融入自己的想法，然后给用户更好的体验。同时要求论文撰写规范，结构完整，条理清晰，按规定格式完成并打印。
## 实施步骤
2018.2：选题，收集资料，完成初步的网页设计思路以及排版样式，完成设计稿。  
2018.3-2018.4：设计数据库表，完成项目后端代码，包括页面路由、数据接口的实现。  
2018.5：完成项目前端页面,并与后端联调，查漏补缺，审阅，完成论文的初稿。  
2018.6：继续完善论文，形成终稿，打印，装订，准备毕业设计答辩。  
## 拟解决的主要问题及措施
1. node层如何与mysql数据库通信
2. 前端上传的文件如何在后端存储
3. 前端的数据缓存
4. 权限控制
## 研究进度计划
时间|主要工作|预期阶段成果
-|-|-|
2018.2|选题，思考架构|完成应用设计思路
2018.3|设计数据库表|完成项目后端代码，包括路由和权限控制
2018.4|实现项目前端页面|完成前端代码并与后端联调
2018.5|优化项目代码|完成项目以及论文准备答辩